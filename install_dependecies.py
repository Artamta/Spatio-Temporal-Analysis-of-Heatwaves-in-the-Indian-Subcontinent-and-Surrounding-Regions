import subprocess

# List of dependencies from your envir.yml file
dependencies = [
    "anyio=3.0.1",
    "appnope=0.1.2",
    "argon2-cffi=20.1.0",
    "arpack=3.7.0",
    "async_generator=1.10",
    "attrs=21.2.0",
    "babel=2.9.1",
    "backcall=0.2.0",
    "backports=1.0",
    "backports.functools_lru_cache=1.6.4",
    "basemap=1.3.0",
    "basemap-data-hires=1.2.2",
    "blas=1.0",
    "bleach=3.3.0",
    "bokeh=2.3.2",
    "bottleneck=1.3.2",
    "brotlipy=0.7.0",
    "bzip2=1.0.8",
    "ca-certificates=2021.10.8",
    "cairo=1.16.0",
    "cartopy=0.18.0",
    "certifi=2021.10.8",
    "cffi=1.14.5",
    "cftime=1.5.1.1",
    "chardet=4.0.0",
    "click=8.0.0",
    "cloudpickle=1.6.0",
    "cryptography=3.4.7",
    "curl=7.71.1",
    "cycler=0.10.0",
    "cytoolz=0.11.0",
    "dask=2021.5.0",
    "dask-core=2021.5.0",
    "decorator=5.0.9",
    "deepgraph=0.2.3",
    "defusedxml=0.7.1",
    "distributed=2021.5.0",
    "entrypoints=0.3",
    "ffmpeg=4.3.2",
    "fontconfig=2.13.1",
    "freetype=2.10.4",
    "fsspec=2021.5.0",
    "geos=3.8.0",
    "gettext=0.21.0",
    "glib=2.68.2",
    "glpk=4.65",
    "gmp=6.2.1",
    "gnutls=3.6.13",
    "hdf4=4.2.13",
    "hdf5=1.10.6",
    "heapdict=1.0.1",
    "icu=68.1",
    "idna=2.10",
    "importlib-metadata=4.0.1",
    "intel-openmp=2020.2",
    "ipykernel=5.3.4",
    "ipython=7.23.1",
    "ipython_genutils=0.2.0",
    "jedi=0.18.0",
    "jinja2=3.0.1",
    "joblib=1.0.1",
    "jpeg=9d",
    "json5=0.9.5",
    "jsonschema=3.2.0",
    "jupyter_client=6.1.12",
    "jupyter_core=4.7.1",
    "jupyter_server=1.7.0",
    "jupyterlab=3.0.16",
    "jupyterlab_pygments=0.1.2",
    "jupyterlab_server=2.5.2",
    "kiwisolver=1.2.0",
    "krb5=1.18.2",
    "lame=3.100",
    "lcms2=2.12",
    "libblas=3.9.0",
    "libcblas=3.9.0",
    "libcurl=7.71.1",
    "libcxx=11.1.0",
    "libedit=3.1.20191231",
    "libffi=3.3",
    "libgfortran=5.0.0",
    "libgfortran5=9.3.0",
    "libiconv=1.16",
    "liblapack=3.9.0",
    "libnetcdf=4.6.1",
    "libpng=1.6.37",
    "libsodium=1.0.18",
    "libssh2=1.9.0",
    "libtiff=4.2.0",
    "libwebp-base=1.2.0",
    "libxml2=2.9.12",
    "llvm-openmp=11.1.0",
    "locket=0.2.0",
    "lz4-c=1.9.2",
    "markupsafe=2.0.0",
    "matplotlib=3.2.2",
    "matplotlib-base=3.2.2",
    "matplotlib-inline=0.1.2",
    "metis=5.1.0",
    "mistune=0.8.4",
    "mkl=2019.4",
    "mkl-service=2.3.0",
    "mkl_fft=1.2.0",
    "mkl_random=1.1.1",
    "mpfr=4.0.2",
    "msgpack-python=1.0.2",
    "nbclassic=0.2.8",
    "nbclient=0.5.3",
    "nbconvert=6.0.7",
    "nbformat=5.1.3",
    "ncurses=6.2",
    "nest-asyncio=1.5.1",
    "netcdf4=1.5.6",
    "nettle=3.6",
    "notebook=6.4.0",
    "numpy=1.19.1",
    "numpy-base=1.19.1",
    "olefile=0.46",
    "openh264=2.1.1",
    "openssl=1.1.1l",
    "packaging=20.9",
    "pandas=0.25.3",
    "pandoc=2.13",
    "pandocfilters=1.4.2",
    "parso=0.8.2",
    "partd=1.2.0",
    "patsy=0.5.2",
    "pcre=8.44",
    "pexpect=4.8.0",
    "pickleshare=0.7.5",
    "pillow=7.2.0",
    "pip=21.0.1",
    "pixman=0.40.0",
    "proj=6.2.1",
    "prometheus_client=0.10.1",
    "prompt-toolkit=3.0.18",
    "psutil=5.8.0",
    "ptyprocess=0.7.0",
    "pycairo=1.20.1",
    "pycparser=2.20",
    "pygments=2.9.0",
    "pyopenssl=20.0.1",
    "pyparsing=2.4.7",
    "pyproj=2.6.1.post1",
    "pyrsistent=0.17.3",
    "pyshp=2.1.2",
    "pysocks=1.7.1",
    "python=3.8.8",
    "python-dateutil=2.8.1",
    "python-igraph=0.9.4",
    "python_abi=3.8",
    "pytz=2021.1",
    "pyyaml=5.4.1",
    "pyzmq=20.0.0",
    "readline=8.1",
    "requests=2.25.1",
    "scikit-learn=0.22.1",
    "scipy=1.7.0",
    "seaborn=0.11.0",
    "send2trash=1.5.0",
    "setuptools=52.0.0",
    "shapely=1.7.1",
    "six=1.16.0",
    "sniffio=1.2.0",
    "sortedcontainers=2.4.0",
    "sqlite=3.35.4",
    "statsmodels=0.11.1",
    "suitesparse=5.10.1",
    "tbb=2020.2",
    "tblib=1.7.0",
    "terminado=0.9.5",
    "testpath=0.5.0",
    "texttable=1.6.3",
    "tk=8.6.10",
    "toolz=0.11.1",
    "tornado=6.1",
    "traitlets=5.0.5",
    "typing_extensions=3.7.4.3",
    "urllib3=1.26.4",
    "wcwidth=0.2.5",
    "webencodings=0.5.1",
    "websocket-client=0.57.0",
    "wheel=0.36.2",
    "x264=1!161.3030",
    "xarray=0.18.0",
    "xz=5.2.5",
    "yaml=0.2.5",
    "zeromq=4.3.4",
    "zict=2.0.0",
    "zipp=3.4.1",
    "zlib=1.2.11",
    "zstd=1.4.5",
]

for dep in dependencies:
    try:
        print(f"Installing {dep}...")
        subprocess.run(["conda", "install", "-y", dep], check=True)
    except subprocess.CalledProcessError:
        print(f"Failed to install {dep}. Skipping...")